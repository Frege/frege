module UseHello where

data HelloImpl s = HelloImpl { hello :: Hello -> ST s () }

data Hello = pure native Hello where
  pure native new "extends" :: HelloImpl s -> Hello
  native hello :: Hello -> ST s ()

main = do
    let h = Hello.new $ HelloImpl { hello = \_ -> println "Hello Frege!" }
    h.hello
